<!DOCTYPE html>
<html>
<head>
  <title>filestructure.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../", thisFile = "home/alex/a3/node-alinex/src/doc/filestructure.md", defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>
  <script src="../../fileSearch.js"></script>
  <script src="../../goToLine.js"></script>
  <link rel="stylesheet" href="../../fileSearch.css" />
  <link rel="stylesheet" href="../../goToLine.css" />
</head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io" onmouseover="lllogo.src='http://alinex.github.io/images/Alinex-200.png'" onmouseout="lllogo.src='http://alinex.github.io/images/Alinex-black-200.png'">
  <img name="lllogo" src="http://alinex.github.io/images/Alinex-black-200.png" width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png" style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog.html" class="btn btn-primary"><span class="glyphicon-cog"></span> Blog</a>
  <a href="http://alinex.github.io/code.html" class="btn btn-warning"><span class="glyphicon-pencil"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#file%20structure">File Structure</a>
      </div>
      <div class="heading h2">
        <a href="#overview">Overview</a>
      </div>
      <div class="heading h2">
        <a href="#possible%20directories">Possible directories</a>
      </div>
      <div class="heading h2">
        <a href="#source">Source</a>
      </div>
      <div class="heading h2">
        <a href="#development">Development</a>
      </div>
      <div class="heading h2">
        <a href="#installed">Installed</a>
      </div>
      <div class="heading h2">
        <a href="#productive">Productive</a>
      </div>
      <div class="heading h2">
        <a href="#data%20%26amp%3B%20settings">Data &amp; Settings</a>
      </div>
      <div class="heading h2">
        <a href="#where%20belongs%20what%3F">Where belongs what?</a>
      </div>
      <div class="heading h2">
        <a href="#more%20details%20about%20some%20sections">More details about some sections</a>
      </div>
      <div class="heading h3">
        <a href="#var%20folder">var folder</a>
      </div>
      <div class="heading h2">
        <a href="#global%20installation">Global installation</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-alinex" title="Fork me on GitHub"></a><div class="docs markdown">
<div class="pilwrap" id="file%20structure">
  <h1>
    <a href="#file%20structure" name="file%20structure" class="pilcrow">&#182;</a>
    File Structure
  </h1>
</div>


<p>All modules in the alinex universe will use the same directory structure.
This follows the general standards and is described here.</p>


<div class="pilwrap" id="overview">
  <h2>
    <a href="#overview" name="overview" class="pilcrow">&#182;</a>
    Overview
  </h2>
</div>


<p>The locally installed system may be in one of the following states which
presents the development cycle of the system:</p>

<ol>
<li><strong>Source</strong> - that's the base data</li>
<li><strong>Development</strong> - after installing</li>
<li><strong>Installed</strong> - if installed from npm (sources removed)</li>
<li><strong>Productive</strong> - after the system is configured</li>
</ol>

<p>Each of these states may have some of the possible directories so they will
be referenced in the further description.</p>

<p><strong>Source</strong></p>

<blockquote>
  <p>The developer will start with the GIT source by cloning or forking.</p>
</blockquote>

<p><strong>Development</strong></p>

<blockquote>
  <p>While in development additional directories will be created while compiling and
  testing the code.</p>
</blockquote>

<p><strong>Installed</strong></p>

<blockquote>
  <p>For productive use, this is the start point. You get a ready to run compiled
  system.</p>
</blockquote>

<p><strong>Productive</strong></p>

<blockquote>
  <p>In the first run the system may be configured and create some additional
  directories for configs and runtime data.</p>
</blockquote>


<div class="pilwrap" id="possible%20directories">
  <h2>
    <a href="#possible%20directories" name="possible%20directories" class="pilcrow">&#182;</a>
    Possible directories
  </h2>
</div>


<p>The following list displays all directories of any state which may exist each
listed with the states to which it belongs:</p>


<div class="highlight"><pre><code>bin           // all
coverage      // development
data          // productive
doc           // development
lib           // development, ...
man           // development, ...
node_modules  // development, ...
src           // source, development
test          // source, development
var           // source, ...
  lib         // productive
  local       // development, ...
  src         // source, ...
  example     // examples
</code></pre></div>



<p>Read the further sections to get more information of what resides in which
directory and how it is used and created.</p>


<div class="pilwrap" id="source">
  <h2>
    <a href="#source" name="source" class="pilcrow">&#182;</a>
    Source
  </h2>
</div>


<p>The source specifies what is stored in the code repository.</p>

<p>This stage contains the following directories:</p>


<div class="highlight"><pre><code>bin           // executable files
src           // source code
  doc         // general documentation which won&#39;t belong to any specific file
  man         // sources for manpages
test          // test data and test suites
  data        // test data
  mocha       // mocha test suites
var           // data and code which maybe changed in installation
  src         // original data, will be overridden on update
  example     // examples
</code></pre></div>



<p>The source code resides in the <code>src</code> folder and will be copied/compiled into
<code>lib</code> to run. This step is done on prepublication of package.</p>


<div class="pilwrap" id="development">
  <h2>
    <a href="#development" name="development" class="pilcrow">&#182;</a>
    Development
  </h2>
</div>


<p>Shows what the developer will find on his machine while developing and testing
the system. While testing the development system will also get all the
directories from productive which are not listed here.</p>

<p>This stage contains the following directories:</p>


<div class="highlight"><pre><code>bin           // executable files
coverage      // coverage report from tests
doc           // created documentation (optional)
lib           // copied/compiled code
man           // created man pages
node_modules  // npm installed packages
src           // source code
test          // test data and test suites
var           // data and code which maybe changed in installation
  src         // original data, will be overridden on update
  example     // examples
  local       // linked or copied from src (not overridden on update)
</code></pre></div>




<div class="pilwrap" id="installed">
  <h2>
    <a href="#installed" name="installed" class="pilcrow">&#182;</a>
    Installed
  </h2>
</div>


<p>This is what you get after a fresh npm installation.</p>

<p>This stage contains the following directories:</p>


<div class="highlight"><pre><code>bin           // executable files
lib           // copied/compiled code
man           // created man pages
node_modules  // npm installed packages
var           // data and code which maybe changed in installation
  src         // original data, will be overridden on update
  example     // examples
  local       // linked or copied from src (not overridden on update)
</code></pre></div>




<div class="pilwrap" id="productive">
  <h2>
    <a href="#productive" name="productive" class="pilcrow">&#182;</a>
    Productive
  </h2>
</div>


<p>And finally this shows what resides on the productive server.</p>

<p>This stage contains the following directories:</p>


<div class="highlight"><pre><code>bin           // executable files
data          // runtime data storage
lib           // copied/compiled code
man           // created man pages
log           // log files and debugging data
node_modules  // npm installed packages
var           // data and code which maybe changed in installation
  src         // original data, will be overridden on update
  example     // examples
  local       // copied from src (not overridden on update)
  lib         // linked or compiled from src/local (on system start or manually)
</code></pre></div>




<div class="pilwrap" id="data%20%26amp%3B%20settings">
  <h2>
    <a href="#data%20%26amp%3B%20settings" name="data%20%26amp%3B%20settings" class="pilcrow">&#182;</a>
    Data &amp; Settings
  </h2>
</div>


<p>In the productive system the settings and data locations may vary. Therefore
the system will look in the following places: the later has the higher precedence.</p>

<p><strong>Local</strong></p>

<p>config: <app>/var/local/config/
data: <app>/var/local/data/</p>

<p><strong>Global</strong></p>

<p>config: /etc/<app>/
data: /var/<app>/data/</p>

<p><strong>User</strong></p>

<p>config: ~/.<app>/config/
data: ~/.<app>/data/</p>


<div class="pilwrap" id="where%20belongs%20what%3F">
  <h2>
    <a href="#where%20belongs%20what%3F" name="where%20belongs%20what%3F" class="pilcrow">&#182;</a>
    Where belongs what?
  </h2>
</div>


<p>The following list should give an overview of there to store what:</p>

<ul>
<li>cache files -> systems temp folder</li>
<li>configuration -> <code>/var/.../config</code></li>
<li>language packs -> <code>/var/.../locale</code></li>
<li>resources for binaries -> <code>/bin/lib</code></li>
<li>server statics -> <code>/var/.../static</code></li>
<li>templates -> <code>/var/.../tèmplate</code></li>
<li>temporary files -> systems temp folder</li>
</ul>


<div class="pilwrap" id="more%20details%20about%20some%20sections">
  <h2>
    <a href="#more%20details%20about%20some%20sections" name="more%20details%20about%20some%20sections" class="pilcrow">&#182;</a>
    More details about some sections
  </h2>
</div>



<div class="pilwrap" id="var%20folder">
  <h3>
    <a href="#var%20folder" name="var%20folder" class="pilcrow">&#182;</a>
    var folder
  </h3>
</div>


<p>The var folder contains everything that may be changed for the individual
installations.</p>

<p>It contains the three sub folders:</p>

<ul>
<li><code>src</code> - the source files which will change with each update</li>
<li><code>example</code> - examples to be used as template for own configuration</li>
<li><code>local</code> - local maybe changed files</li>
<li><code>lib</code> - linked or compiled files from source overridden by local</li>
</ul>

<p>Within these directories you will find the following possible structure:</p>


<div class="highlight"><pre><code>config
locale
static
template
  &lt;theme&gt;
</code></pre></div>



<p>Templates and statics will be compiled from <code>local</code> or <code>src</code> to lib.</p>

<p>You may also use softlinks for <code>var/local</code> or within it to move your files to
any other position on your filesystem.</p>

<p>For global installed packages it is also possible that they include the
<code>/etc/&lt;app&gt;/</code> folder for configs or the <code>~/.&lt;app&gt;/...</code> folder as a replacement for
<code>var/local</code>.</p>


<div class="pilwrap" id="global%20installation">
  <h2>
    <a href="#global%20installation" name="global%20installation" class="pilcrow">&#182;</a>
    Global installation
  </h2>
</div>


<p>The application modules often allow to store their data out of the programs
directory:</p>

<p><strong>User specific:</strong></p>

<p>Here the contents of the <code>var/local</code> folder should be under <code>~/.&lt;program&gt;/</code>.</p>

<p><strong>Globally:</strong></p>

<ul>
<li>configs... under <code>/etc/&lt;program&gt;/</code> instead of <code>var/local/</code></li>
<li>data under <code>/var/&lt;program&gt;/</code> instead of <code>var/data/</code></li>
<li>logs under <code>/var/log/&lt;program&gt;/</code> instead of 'log/'</li>
</ul></div>
  </div>
</body>
</html>
